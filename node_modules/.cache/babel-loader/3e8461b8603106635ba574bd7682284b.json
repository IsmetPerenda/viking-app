{"ast":null,"code":"import axios from \"axios\";\nimport { NotificationManager } from \"react-notifications\";\nimport { ADDED_MENU_ITEM_FAIL, ADDED_MENU_ITEM, MENU_ITEMS_LOADED, MENU_ITEMS_LOADING_FAIL } from \"./types\";\nconst token = localStorage.getItem(\"token\");\nexport const loadAllMenuItems = () => {\n  return async dispatch => {\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-auth-token\": `${token}`\n        }\n      };\n      const res = await axios.get(process.env.REACT_APP_BACKEND_URL + `/api/menuitems/`, config);\n\n      if (res.status === 200) {\n        dispatch({\n          type: MENU_ITEMS_LOADED,\n          payload: res.data\n        });\n      }\n    } catch (err) {\n      const errors = err.response.data.errors;\n\n      if (errors) {\n        console.log(errors);\n      }\n\n      dispatch({\n        type: MENU_ITEMS_LOADING_FAIL\n      });\n    }\n  };\n};\nexport const loadMenuItems = tag => {\n  return async dispatch => {\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-auth-token\": `${token}`\n        }\n      };\n      const res = await axios.get(process.env.REACT_APP_BACKEND_URL + `/api/menuitems/${tag}`, config);\n\n      if (res.status === 200) {\n        dispatch({\n          type: MENU_ITEMS_LOADED,\n          payload: res.data\n        });\n      }\n    } catch (err) {\n      const errors = err.response.data.errors;\n\n      if (errors) {\n        console.log(errors);\n      }\n\n      dispatch({\n        type: MENU_ITEMS_LOADING_FAIL\n      });\n    }\n  };\n};\nexport const addMenuItem = item => {\n  return async dispatch => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-auth-token\": `${token}`\n        }\n      };\n      const res = await axios.post(process.env.REACT_APP_BACKEND_URL + \"/api/menuitems\", item, config);\n\n      if (res.status === 200) {\n        NotificationManager.success(\"Item Added Succesfuly\");\n        dispatch({\n          type: ADDED_MENU_ITEM,\n          payload: res.data\n        });\n      }\n\n      if (res.status === 404) {}\n    } catch (err) {\n      const errors = err.response.data.errors;\n\n      if (errors) {\n        console.log(errors);\n        dispatch({\n          type: ADDED_MENU_ITEM_FAIL\n        });\n      }\n    }\n  };\n};\nexport const editMenuItem = item => {\n  if (item._id === undefined) {\n    NotificationManager.error(\"Please Select Item To Edit.\");\n  }\n\n  const token = localStorage.getItem(\"token\");\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-auth-token\": `${token}`\n    }\n  };\n  return axios.patch(process.env.REACT_APP_BACKEND_URL + `/api/menuitems/${item._id}`, item, config);\n};\nexport const deleteMenuItem = item => {\n  NotificationManager.info(\"Item Deleted Succesfuly\");\n  const token = localStorage.getItem(\"token\");\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-auth-token\": `${token}`\n    }\n  };\n  return axios.delete(process.env.REACT_APP_BACKEND_URL + `/api/menuitems/${item._id}`, config);\n};","map":{"version":3,"sources":["C:/Users/Ismet/Desktop/taste-up-frontend/src/actions/menuItems.js"],"names":["axios","NotificationManager","ADDED_MENU_ITEM_FAIL","ADDED_MENU_ITEM","MENU_ITEMS_LOADED","MENU_ITEMS_LOADING_FAIL","token","localStorage","getItem","loadAllMenuItems","dispatch","config","headers","res","get","process","env","REACT_APP_BACKEND_URL","status","type","payload","data","err","errors","response","console","log","loadMenuItems","tag","addMenuItem","item","post","success","editMenuItem","_id","undefined","error","patch","deleteMenuItem","info","delete"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { NotificationManager } from \"react-notifications\";\r\nimport {\r\n  ADDED_MENU_ITEM_FAIL,\r\n  ADDED_MENU_ITEM,\r\n  MENU_ITEMS_LOADED,\r\n  MENU_ITEMS_LOADING_FAIL,\r\n} from \"./types\";\r\n\r\nconst token = localStorage.getItem(\"token\");\r\n\r\nexport const loadAllMenuItems = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-auth-token\": `${token}`,\r\n        },\r\n      };\r\n\r\n      const res = await axios.get(\r\n        process.env.REACT_APP_BACKEND_URL + `/api/menuitems/`,\r\n        config\r\n      );\r\n      if (res.status === 200) {\r\n        dispatch({\r\n          type: MENU_ITEMS_LOADED,\r\n          payload: res.data,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      const errors = err.response.data.errors;\r\n      if (errors) {\r\n        console.log(errors);\r\n      }\r\n      dispatch({\r\n        type: MENU_ITEMS_LOADING_FAIL,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const loadMenuItems = (tag) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-auth-token\": `${token}`,\r\n        },\r\n      };\r\n\r\n      const res = await axios.get(\r\n        process.env.REACT_APP_BACKEND_URL + `/api/menuitems/${tag}`,\r\n        config\r\n      );\r\n      if (res.status === 200) {\r\n        dispatch({\r\n          type: MENU_ITEMS_LOADED,\r\n          payload: res.data,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      const errors = err.response.data.errors;\r\n      if (errors) {\r\n        console.log(errors);\r\n      }\r\n      dispatch({\r\n        type: MENU_ITEMS_LOADING_FAIL,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const addMenuItem = (item) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-auth-token\": `${token}`,\r\n        },\r\n      };\r\n      const res = await axios.post(\r\n        process.env.REACT_APP_BACKEND_URL + \"/api/menuitems\",\r\n        item,\r\n        config\r\n      );\r\n\r\n      if (res.status === 200) {\r\n        NotificationManager.success(\"Item Added Succesfuly\");\r\n        dispatch({\r\n          type: ADDED_MENU_ITEM,\r\n          payload: res.data,\r\n        });\r\n      }\r\n      if (res.status === 404) {\r\n      }\r\n    } catch (err) {\r\n      const errors = err.response.data.errors;\r\n      if (errors) {\r\n        console.log(errors);\r\n        dispatch({\r\n          type: ADDED_MENU_ITEM_FAIL,\r\n        });\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const editMenuItem = (item) => {\r\n  if (item._id === undefined) {\r\n    NotificationManager.error(\"Please Select Item To Edit.\");\r\n  }\r\n  const token = localStorage.getItem(\"token\");\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"x-auth-token\": `${token}`,\r\n    },\r\n  };\r\n  return axios.patch(\r\n    process.env.REACT_APP_BACKEND_URL + `/api/menuitems/${item._id}`,\r\n    item,\r\n    config\r\n  );\r\n};\r\n\r\nexport const deleteMenuItem = (item) => {\r\n  NotificationManager.info(\"Item Deleted Succesfuly\");\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"x-auth-token\": `${token}`,\r\n    },\r\n  };\r\n  return axios.delete(\r\n    process.env.REACT_APP_BACKEND_URL + `/api/menuitems/${item._id}`,\r\n    config\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}