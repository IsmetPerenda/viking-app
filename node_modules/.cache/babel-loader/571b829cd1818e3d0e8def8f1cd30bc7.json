{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ismet\\\\Desktop\\\\za drive vol 2\\\\taste-up-frontend\\\\src\\\\commponents\\\\AdminPanel\\\\Menu\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { NotificationManager } from \"react-notifications\";\nimport { useDispatch } from \"react-redux\";\nimport { connect } from \"react-redux\";\nimport MenuItem from \"./MenuItem\";\nimport Footer from \"../../Footer/index\";\nimport DropDown from \"../DropDown/index\";\nimport \"../../../index.css\";\nimport \"./index.css\";\nimport { addMenuItem, loadMenuItems, editMenuItem, deleteMenuItem } from \"../../../actions/menuItems\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  _id: null,\n  title: \"\",\n  short_description: \"\",\n  description: \"\",\n  price: \"\",\n  tag: \"\"\n};\n\nconst MenuPanel = ({\n  menuItems\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const stableDispatch = useDispatch();\n  const [adminDisplayClass, setAdminDisplayClass] = useState(\"adminPanel\");\n  const [editableItem, setEditableItem] = useState(initialState);\n  useEffect(() => {\n    stableDispatch(loadMenuItems(\"drinks\"));\n  }, [stableDispatch]);\n\n  function getMenuItemByTag(tag) {\n    setEditableItem({ ...editableItem,\n      tag: tag\n    });\n    dispatch(loadMenuItems(tag));\n  }\n\n  function renderItems() {\n    return menuItems.map((item, i) => {\n      return /*#__PURE__*/_jsxDEV(MenuItem, {\n        item: item,\n        editItem: editItem,\n        deleteItem: deleteItem\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this);\n    });\n  }\n\n  function onChange(event) {\n    setEditableItem({ ...editableItem,\n      [event.target.name]: event.target.value\n    });\n  }\n\n  function addItemMenu(item) {\n    if (item.title === \"\" || item.tag === \"\") {\n      NotificationManager.error(\"Please enter title and tag.\");\n    } else {\n      dispatch(addMenuItem(editableItem)).then(() => {\n        dispatch(loadMenuItems(item.tag));\n        setEditableItem(initialState);\n      });\n    }\n  }\n\n  function saveMenuItemEdit(item) {\n    if (item._id === null) {\n      NotificationManager.error(\"Please Select Item To Edit.\");\n    } else {\n      editMenuItem(item).then(() => {\n        NotificationManager.success(\"Item Edited Succesfuly\");\n        dispatch(loadMenuItems(item.tag));\n        setEditableItem(initialState);\n      });\n    }\n  }\n\n  function editItem(item) {\n    if (window.innerWidth < 600) {\n      setAdminDisplayClass(\"adminPanelDisplay\");\n    }\n\n    setEditableItem({\n      _id: item._id,\n      title: item.title,\n      short_description: item.short_description,\n      description: item.description,\n      image: item.image,\n      price: item.price,\n      tag: item.tag\n    });\n  }\n\n  function deleteItem(item) {\n    deleteMenuItem(item).then(() => {\n      dispatch(loadMenuItems(item.tag));\n    });\n  }\n\n  function openForm() {\n    if (window.innerWidth < 600) {\n      setAdminDisplayClass(\"adminPanelDisplay\");\n    }\n  }\n\n  function closeForm() {\n    setAdminDisplayClass(\"adminPanel\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"adminPanelContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"dropbtn\",\n            children: [\"Select Menu\", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-caret-down\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              onClick: event => getMenuItemByTag(\"drinks\"),\n              children: \"Drinks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              onClick: event => getMenuItemByTag(\"appetizers\"),\n              children: \"Appetizers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              onClick: event => getMenuItemByTag(\"ala_carte\"),\n              children: \"A la carte\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ui teal button buttonAddMobil\",\n          onClick: event => openForm(),\n          children: [\" \", \"Add\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DropDown, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"adminMenuItemsPanelWraper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ui grid cardStyleMenuItemsContainer\",\n          children: renderItems()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: adminDisplayClass,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"buttonCloseFormContainer\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \" buttonCloseForm\",\n              onClick: event => closeForm(),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"close icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ui form formWrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"titleTag\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"title\",\n                  placeholder: \"Title...\",\n                  onChange: e => onChange(e),\n                  value: editableItem.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \".\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"tag\",\n                  placeholder: \"Tag...\",\n                  onChange: e => onChange(e),\n                  value: editableItem.tag\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"short_description\",\n                placeholder: \"Short Description...\",\n                onChange: e => onChange(e),\n                value: editableItem.short_description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"textArea\",\n                rows: \"2\",\n                onChange: e => onChange(e),\n                value: editableItem.description,\n                type: \"text\",\n                placeholder: \"Description...\",\n                name: \"description\",\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ui right labeled input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"amount\",\n                  className: \"ui label labelStyle\",\n                  children: \"$\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Price...\",\n                  name: \"price\",\n                  className: \"ui right labeled input\",\n                  onChange: e => onChange(e),\n                  value: editableItem.price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), editableItem.image && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: editableItem.image,\n                alt: editableItem.title,\n                className: \"imageContainer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this)\n            }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"image\",\n                onChange: e => onChange(e),\n                value: editableItem.image\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ui positive buttonSave button\",\n              onClick: event => saveMenuItemEdit(editableItem),\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ui teal button buttonAdd\",\n              onClick: event => addItemMenu(editableItem),\n              children: \"Add Item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MenuPanel, \"0GyEP/Jc5VpY6E7QA6soF6Mxr7Q=\", false, function () {\n  return [useDispatch, useDispatch];\n});\n\n_c = MenuPanel;\n\nconst mapStateToProps = state => ({\n  menuItems: state.menuItemReducer.menuItems\n});\n\nexport default connect(mapStateToProps)(MenuPanel);\n\nvar _c;\n\n$RefreshReg$(_c, \"MenuPanel\");","map":{"version":3,"sources":["C:/Users/Ismet/Desktop/za drive vol 2/taste-up-frontend/src/commponents/AdminPanel/Menu/index.js"],"names":["React","useEffect","useState","NotificationManager","useDispatch","connect","MenuItem","Footer","DropDown","addMenuItem","loadMenuItems","editMenuItem","deleteMenuItem","initialState","_id","title","short_description","description","price","tag","MenuPanel","menuItems","dispatch","stableDispatch","adminDisplayClass","setAdminDisplayClass","editableItem","setEditableItem","getMenuItemByTag","renderItems","map","item","i","editItem","deleteItem","onChange","event","target","name","value","addItemMenu","error","then","saveMenuItemEdit","success","window","innerWidth","image","openForm","closeForm","e","mapStateToProps","state","menuItemReducer"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { NotificationManager } from \"react-notifications\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { connect } from \"react-redux\";\r\nimport MenuItem from \"./MenuItem\";\r\nimport Footer from \"../../Footer/index\";\r\nimport DropDown from \"../DropDown/index\";\r\nimport \"../../../index.css\";\r\nimport \"./index.css\";\r\nimport {\r\n  addMenuItem,\r\n  loadMenuItems,\r\n  editMenuItem,\r\n  deleteMenuItem,\r\n} from \"../../../actions/menuItems\";\r\n\r\nconst initialState = {\r\n  _id: null,\r\n  title: \"\",\r\n  short_description: \"\",\r\n  description: \"\",\r\n  price: \"\",\r\n  tag: \"\",\r\n};\r\n\r\nconst MenuPanel = ({ menuItems }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const stableDispatch = useDispatch();\r\n\r\n  const [adminDisplayClass, setAdminDisplayClass] = useState(\"adminPanel\");\r\n\r\n  const [editableItem, setEditableItem] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    stableDispatch(loadMenuItems(\"drinks\"));\r\n  }, [stableDispatch]);\r\n\r\n  function getMenuItemByTag(tag) {\r\n    setEditableItem({\r\n      ...editableItem,\r\n      tag: tag,\r\n    });\r\n\r\n    dispatch(loadMenuItems(tag));\r\n  }\r\n\r\n  function renderItems() {\r\n    return menuItems.map((item, i) => {\r\n      return (\r\n        <MenuItem\r\n          key={i}\r\n          item={item}\r\n          editItem={editItem}\r\n          deleteItem={deleteItem}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  function onChange(event) {\r\n    setEditableItem({\r\n      ...editableItem,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  }\r\n\r\n  function addItemMenu(item) {\r\n    if (item.title === \"\" || item.tag === \"\") {\r\n      NotificationManager.error(\"Please enter title and tag.\");\r\n    } else {\r\n      dispatch(addMenuItem(editableItem)).then(() => {\r\n        dispatch(loadMenuItems(item.tag));\r\n        setEditableItem(initialState);\r\n      });\r\n    }\r\n  }\r\n\r\n  function saveMenuItemEdit(item) {\r\n    if (item._id === null) {\r\n      NotificationManager.error(\"Please Select Item To Edit.\");\r\n    } else {\r\n      editMenuItem(item).then(() => {\r\n        NotificationManager.success(\"Item Edited Succesfuly\");\r\n        dispatch(loadMenuItems(item.tag));\r\n        setEditableItem(initialState);\r\n      });\r\n    }\r\n  }\r\n\r\n  function editItem(item) {\r\n    if (window.innerWidth < 600) {\r\n      setAdminDisplayClass(\"adminPanelDisplay\");\r\n    }\r\n\r\n    setEditableItem({\r\n      _id: item._id,\r\n      title: item.title,\r\n      short_description: item.short_description,\r\n      description: item.description,\r\n      image: item.image,\r\n      price: item.price,\r\n      tag: item.tag,\r\n    });\r\n  }\r\n\r\n  function deleteItem(item) {\r\n    deleteMenuItem(item).then(() => {\r\n      dispatch(loadMenuItems(item.tag));\r\n    });\r\n  }\r\n\r\n  function openForm() {\r\n    if (window.innerWidth < 600) {\r\n      setAdminDisplayClass(\"adminPanelDisplay\");\r\n    }\r\n  }\r\n\r\n  function closeForm() {\r\n    setAdminDisplayClass(\"adminPanel\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"adminPanelContainer\">\r\n        <div>\r\n          <div className=\"dropdown\">\r\n            <button className=\"dropbtn\">\r\n              Select Menu\r\n              <i className=\"fa fa-caret-down\"></i>\r\n            </button>\r\n            <div className=\"dropdown-content\">\r\n              <p onClick={(event) => getMenuItemByTag(\"drinks\")}>Drinks</p>\r\n              <p onClick={(event) => getMenuItemByTag(\"appetizers\")}>\r\n                Appetizers\r\n              </p>\r\n              <p onClick={(event) => getMenuItemByTag(\"ala_carte\")}>\r\n                A la carte\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <button\r\n            className=\"ui teal button buttonAddMobil\"\r\n            onClick={(event) => openForm()}\r\n          >\r\n            {\" \"}\r\n            Add{\" \"}\r\n          </button>\r\n        </div>\r\n        <DropDown />\r\n        <div className=\"adminMenuItemsPanelWraper\">\r\n          <div className=\"ui grid cardStyleMenuItemsContainer\">\r\n            {renderItems()}\r\n          </div>\r\n          <div className={adminDisplayClass}>\r\n            <div className=\"buttonCloseFormContainer\">\r\n              <button\r\n                className=\" buttonCloseForm\"\r\n                onClick={(event) => closeForm()}\r\n              >\r\n                <i className=\"close icon\"></i>\r\n              </button>\r\n            </div>\r\n            <div className=\"ui form formWrapper\">\r\n              <div className=\"titleTag\">\r\n                <div className=\"field\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    placeholder=\"Title...\"\r\n                    onChange={(e) => onChange(e)}\r\n                    value={editableItem.title}\r\n                  />\r\n                </div>\r\n                <p>.</p>\r\n                <div className=\"field\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"tag\"\r\n                    placeholder=\"Tag...\"\r\n                    onChange={(e) => onChange(e)}\r\n                    value={editableItem.tag}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"field\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"short_description\"\r\n                  placeholder=\"Short Description...\"\r\n                  onChange={(e) => onChange(e)}\r\n                  value={editableItem.short_description}\r\n                />\r\n              </div>\r\n              <div className=\"field\">\r\n                <textarea\r\n                  className=\"textArea\"\r\n                  rows=\"2\"\r\n                  onChange={(e) => onChange(e)}\r\n                  value={editableItem.description}\r\n                  type=\"text\"\r\n                  placeholder=\"Description...\"\r\n                  name=\"description\"\r\n                >\r\n                  {\" \"}\r\n                </textarea>\r\n              </div>\r\n              <div className=\"field\">\r\n                <div className=\"ui right labeled input\">\r\n                  <label htmlFor=\"amount\" className=\"ui label labelStyle\">\r\n                    $\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Price...\"\r\n                    name=\"price\"\r\n                    className=\"ui right labeled input\"\r\n                    onChange={(e) => onChange(e)}\r\n                    value={editableItem.price}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {editableItem.image && (\r\n                <>\r\n                  <img\r\n                    src={editableItem.image}\r\n                    alt={editableItem.title}\r\n                    className=\"imageContainer\"\r\n                  />\r\n                </>\r\n              )}\r\n              <div className=\"field\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"image\"\r\n                  onChange={(e) => onChange(e)}\r\n                  value={editableItem.image}\r\n                />\r\n              </div>\r\n\r\n              <button\r\n                className=\"ui positive buttonSave button\"\r\n                onClick={(event) => saveMenuItemEdit(editableItem)}\r\n              >\r\n                Save Changes\r\n              </button>\r\n              <button\r\n                className=\"ui teal button buttonAdd\"\r\n                onClick={(event) => addItemMenu(editableItem)}\r\n              >\r\n                Add Item\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  menuItems: state.menuItemReducer.menuItems,\r\n});\r\n\r\nexport default connect(mapStateToProps)(MenuPanel);\r\n"]},"metadata":{},"sourceType":"module"}