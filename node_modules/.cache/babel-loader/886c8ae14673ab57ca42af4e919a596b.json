{"ast":null,"code":"import axios from \"axios\";\nimport { NotificationManager } from \"react-notifications\";\nimport { RESERVATION_LOADED, RESERVATION_LOADING_FAIL, ADDED_RESERVATION, ADDED_RESERVATION_FAIL } from \"./types\";\nconst token = localStorage.getItem(\"token\");\nexport const loadReservationItems = () => {\n  return async dispatch => {\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-auth-token\": `${token}`\n        }\n      };\n      const res = await axios.get(process.env.REACT_APP_BACKEND_URL + \"/api/reservation\", config);\n\n      if (res.status === 200) {\n        dispatch({\n          type: RESERVATION_LOADED,\n          payload: res.data\n        });\n      }\n    } catch (err) {\n      const errors = err.response.data.errors;\n\n      if (errors) {\n        console.log(errors);\n      }\n\n      dispatch({\n        type: RESERVATION_LOADING_FAIL\n      });\n    }\n  };\n};\nexport const addReservation = item => {\n  return async dispatch => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-auth-token\": `${token}`\n        }\n      };\n      const body = JSON.stringify(item);\n      const res = await axios.post(process.env.REACT_APP_BACKEND_URL + \"/api/reservation\", body, config);\n\n      if (res.status === 200) {\n        NotificationManager.success(\"Reservation Aded Succesfuly\");\n        dispatch({\n          type: ADDED_RESERVATION,\n          payload: res.data\n        });\n      }\n    } catch (err) {\n      const errors = err.response.data.errors;\n\n      if (errors) {\n        console.log(errors);\n        dispatch({\n          type: ADDED_RESERVATION_FAIL\n        });\n      }\n    }\n  };\n};\nexport const editResItem = item => {\n  if ((item === null || item === void 0 ? void 0 : item._id) === undefined) {\n    NotificationManager.error(\"Please Select Item To Edit.\");\n  }\n\n  const token = localStorage.getItem(\"token\");\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-auth-token\": `${token}`\n    }\n  };\n  return axios.patch(process.env.REACT_APP_BACKEND_URL + `/api/reservation/${item._id}`, item, config);\n};\nexport const deleteReservation = item => {\n  NotificationManager.info(\"Item Deleted Succesfuly\");\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-auth-token\": `${token}`\n    }\n  };\n  return axios.delete(process.env.REACT_APP_BACKEND_URL + `/api/reservation/${item._id}`, config);\n};","map":{"version":3,"sources":["C:/Users/Ismet/Desktop/za drive vol 2/taste-up-frontend/src/actions/reservation.js"],"names":["axios","NotificationManager","RESERVATION_LOADED","RESERVATION_LOADING_FAIL","ADDED_RESERVATION","ADDED_RESERVATION_FAIL","token","localStorage","getItem","loadReservationItems","dispatch","config","headers","res","get","process","env","REACT_APP_BACKEND_URL","status","type","payload","data","err","errors","response","console","log","addReservation","item","body","JSON","stringify","post","success","editResItem","_id","undefined","error","patch","deleteReservation","info","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,mBAAT,QAAoC,qBAApC;AACA,SACEC,kBADF,EAEEC,wBAFF,EAGEC,iBAHF,EAIEC,sBAJF,QAKO,SALP;AAOA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEA,OAAO,MAAMC,oBAAoB,GAAG,MAAM;AACxC,SAAO,MAAOC,QAAP,IAAoB;AACzB,QAAI;AACF,YAAMC,MAAM,GAAG;AACbC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,0BAAiB,GAAEN,KAAM;AAFlB;AADI,OAAf;AAMA,YAAMO,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAN,CAChBC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,GAAoC,kBADpB,EAEhBN,MAFgB,CAAlB;;AAIA,UAAIE,GAAG,CAACK,MAAJ,KAAe,GAAnB,EAAwB;AACtBR,QAAAA,QAAQ,CAAC;AACPS,UAAAA,IAAI,EAAEjB,kBADC;AAEPkB,UAAAA,OAAO,EAAEP,GAAG,CAACQ;AAFN,SAAD,CAAR;AAID;AACF,KAjBD,CAiBE,OAAOC,GAAP,EAAY;AACZ,YAAMC,MAAM,GAAGD,GAAG,CAACE,QAAJ,CAAaH,IAAb,CAAkBE,MAAjC;;AACA,UAAIA,MAAJ,EAAY;AACVE,QAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACD;;AACDb,MAAAA,QAAQ,CAAC;AACPS,QAAAA,IAAI,EAAEhB;AADC,OAAD,CAAR;AAGD;AACF,GA3BD;AA4BD,CA7BM;AA+BP,OAAO,MAAMwB,cAAc,GAAIC,IAAD,IAAU;AACtC,SAAO,MAAOlB,QAAP,IAAoB;AACzB,QAAI;AACF,YAAMJ,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,YAAMG,MAAM,GAAG;AACbC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,0BAAiB,GAAEN,KAAM;AAFlB;AADI,OAAf;AAMA,YAAMuB,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAb;AACA,YAAMf,GAAG,GAAG,MAAMb,KAAK,CAACgC,IAAN,CAChBjB,OAAO,CAACC,GAAR,CAAYC,qBAAZ,GAAoC,kBADpB,EAEhBY,IAFgB,EAGhBlB,MAHgB,CAAlB;;AAMA,UAAIE,GAAG,CAACK,MAAJ,KAAe,GAAnB,EAAwB;AACtBjB,QAAAA,mBAAmB,CAACgC,OAApB,CAA4B,6BAA5B;AACAvB,QAAAA,QAAQ,CAAC;AACPS,UAAAA,IAAI,EAAEf,iBADC;AAEPgB,UAAAA,OAAO,EAAEP,GAAG,CAACQ;AAFN,SAAD,CAAR;AAID;AACF,KAtBD,CAsBE,OAAOC,GAAP,EAAY;AACZ,YAAMC,MAAM,GAAGD,GAAG,CAACE,QAAJ,CAAaH,IAAb,CAAkBE,MAAjC;;AACA,UAAIA,MAAJ,EAAY;AACVE,QAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACAb,QAAAA,QAAQ,CAAC;AACPS,UAAAA,IAAI,EAAEd;AADC,SAAD,CAAR;AAGD;AACF;AACF,GAhCD;AAiCD,CAlCM;AAoCP,OAAO,MAAM6B,WAAW,GAAIN,IAAD,IAAU;AACnC,MAAI,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEO,GAAN,MAAcC,SAAlB,EAA6B;AAC3BnC,IAAAA,mBAAmB,CAACoC,KAApB,CAA0B,6BAA1B;AACD;;AACD,QAAM/B,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAMG,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,sBAAiB,GAAEN,KAAM;AAFlB;AADI,GAAf;AAMA,SAAON,KAAK,CAACsC,KAAN,CACLvB,OAAO,CAACC,GAAR,CAAYC,qBAAZ,GAAqC,oBAAmBW,IAAI,CAACO,GAAI,EAD5D,EAELP,IAFK,EAGLjB,MAHK,CAAP;AAKD,CAhBM;AAkBP,OAAO,MAAM4B,iBAAiB,GAAIX,IAAD,IAAU;AACzC3B,EAAAA,mBAAmB,CAACuC,IAApB,CAAyB,yBAAzB;AACA,QAAM7B,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,sBAAiB,GAAEN,KAAM;AAFlB;AADI,GAAf;AAOA,SAAON,KAAK,CAACyC,MAAN,CACL1B,OAAO,CAACC,GAAR,CAAYC,qBAAZ,GAAqC,oBAAmBW,IAAI,CAACO,GAAI,EAD5D,EAELxB,MAFK,CAAP;AAID,CAbM","sourcesContent":["import axios from \"axios\";\r\nimport { NotificationManager } from \"react-notifications\";\r\nimport {\r\n  RESERVATION_LOADED,\r\n  RESERVATION_LOADING_FAIL,\r\n  ADDED_RESERVATION,\r\n  ADDED_RESERVATION_FAIL,\r\n} from \"./types\";\r\n\r\nconst token = localStorage.getItem(\"token\");\r\n\r\nexport const loadReservationItems = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-auth-token\": `${token}`,\r\n        },\r\n      };\r\n      const res = await axios.get(\r\n        process.env.REACT_APP_BACKEND_URL + \"/api/reservation\",\r\n        config\r\n      );\r\n      if (res.status === 200) {\r\n        dispatch({\r\n          type: RESERVATION_LOADED,\r\n          payload: res.data,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      const errors = err.response.data.errors;\r\n      if (errors) {\r\n        console.log(errors);\r\n      }\r\n      dispatch({\r\n        type: RESERVATION_LOADING_FAIL,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const addReservation = (item) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-auth-token\": `${token}`,\r\n        },\r\n      };\r\n      const body = JSON.stringify(item);\r\n      const res = await axios.post(\r\n        process.env.REACT_APP_BACKEND_URL + \"/api/reservation\",\r\n        body,\r\n        config\r\n      );\r\n\r\n      if (res.status === 200) {\r\n        NotificationManager.success(\"Reservation Aded Succesfuly\");\r\n        dispatch({\r\n          type: ADDED_RESERVATION,\r\n          payload: res.data,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      const errors = err.response.data.errors;\r\n      if (errors) {\r\n        console.log(errors);\r\n        dispatch({\r\n          type: ADDED_RESERVATION_FAIL,\r\n        });\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const editResItem = (item) => {\r\n  if (item?._id === undefined) {\r\n    NotificationManager.error(\"Please Select Item To Edit.\");\r\n  }\r\n  const token = localStorage.getItem(\"token\");\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"x-auth-token\": `${token}`,\r\n    },\r\n  };\r\n  return axios.patch(\r\n    process.env.REACT_APP_BACKEND_URL + `/api/reservation/${item._id}`,\r\n    item,\r\n    config\r\n  );\r\n};\r\n\r\nexport const deleteReservation = (item) => {\r\n  NotificationManager.info(\"Item Deleted Succesfuly\");\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"x-auth-token\": `${token}`,\r\n    },\r\n  };\r\n\r\n  return axios.delete(\r\n    process.env.REACT_APP_BACKEND_URL + `/api/reservation/${item._id}`,\r\n    config\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}