{"ast":null,"code":"import axios from \"axios\";\nimport { NotificationManager } from \"react-notifications\";\nimport { TEAM_LOADED, TEAM_LOADING_FAIL, ADDED_TEAM_MEMBER, ADDED_TEAM_MEMBER_FAIL } from \"./types\";\nconst token = localStorage.getItem(\"token\");\nexport const loadTeamMembers = () => {\n  return async dispatch => {\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-auth-token\": `${token}`\n        }\n      };\n      const res = await axios.get(process.env.REACT_APP_BACKEND_URL + \"/api/team\", config);\n\n      if (res.status === 200) {\n        dispatch({\n          type: TEAM_LOADED,\n          payload: res.data\n        });\n      }\n    } catch (err) {\n      const errors = err.response.data.errors;\n\n      if (errors) {\n        console.log(errors);\n      }\n\n      dispatch({\n        type: TEAM_LOADING_FAIL\n      });\n    }\n  };\n};\nexport const addTeamMember = item => {\n  return async dispatch => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-auth-token\": `${token}`\n        }\n      };\n      const res = await axios.post(process.env.REACT_APP_BACKEND_URL + \"/api/team\", item, config);\n\n      if (res.status === 200) {\n        NotificationManager.success(\"Item Added Succesfuly\");\n        dispatch({\n          type: ADDED_TEAM_MEMBER,\n          payload: res.data\n        });\n      }\n\n      if (res.status === 404) {}\n    } catch (err) {\n      const errors = err.response.data.errors;\n\n      if (errors) {\n        console.log(errors);\n        dispatch({\n          type: ADDED_TEAM_MEMBER_FAIL\n        });\n      }\n    }\n  };\n};\nexport const editTeamMember = item => {\n  if (item._id === undefined) {\n    NotificationManager.error(\"Please Select Item To Edit.\");\n  }\n\n  const token = localStorage.getItem(\"token\");\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-auth-token\": `${token}`\n    }\n  };\n  return axios.patch(process.env.REACT_APP_BACKEND_URL + `/api/team/${item._id}`, item, config);\n};\nexport const deleteTeamMember = item => {\n  NotificationManager.info(\"Item Deleted Succesfuly\");\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-auth-token\": `${token}`\n    }\n  };\n  return axios.delete(process.env.REACT_APP_BACKEND_URL + `/api/team/${item._id}`, config);\n};","map":{"version":3,"sources":["C:/Users/Ismet/Desktop/taste-up-frontend/src/actions/team.js"],"names":["axios","NotificationManager","TEAM_LOADED","TEAM_LOADING_FAIL","ADDED_TEAM_MEMBER","ADDED_TEAM_MEMBER_FAIL","token","localStorage","getItem","loadTeamMembers","dispatch","config","headers","res","get","process","env","REACT_APP_BACKEND_URL","status","type","payload","data","err","errors","response","console","log","addTeamMember","item","post","success","editTeamMember","_id","undefined","error","patch","deleteTeamMember","info","delete"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { NotificationManager } from \"react-notifications\";\r\n\r\nimport {\r\n  TEAM_LOADED,\r\n  TEAM_LOADING_FAIL,\r\n  ADDED_TEAM_MEMBER,\r\n  ADDED_TEAM_MEMBER_FAIL,\r\n} from \"./types\";\r\n\r\nconst token = localStorage.getItem(\"token\");\r\n\r\nexport const loadTeamMembers = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-auth-token\": `${token}`,\r\n        },\r\n      };\r\n      const res = await axios.get(\r\n        process.env.REACT_APP_BACKEND_URL + \"/api/team\",\r\n        config\r\n      );\r\n      if (res.status === 200) {\r\n        dispatch({\r\n          type: TEAM_LOADED,\r\n          payload: res.data,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      const errors = err.response.data.errors;\r\n      if (errors) {\r\n        console.log(errors);\r\n      }\r\n      dispatch({\r\n        type: TEAM_LOADING_FAIL,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const addTeamMember = (item) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-auth-token\": `${token}`,\r\n        },\r\n      };\r\n\r\n      const res = await axios.post(\r\n        process.env.REACT_APP_BACKEND_URL + \"/api/team\",\r\n        item,\r\n        config\r\n      );\r\n\r\n      if (res.status === 200) {\r\n        NotificationManager.success(\"Item Added Succesfuly\");\r\n        dispatch({\r\n          type: ADDED_TEAM_MEMBER,\r\n          payload: res.data,\r\n        });\r\n      }\r\n      if (res.status === 404) {\r\n      }\r\n    } catch (err) {\r\n      const errors = err.response.data.errors;\r\n      if (errors) {\r\n        console.log(errors);\r\n        dispatch({\r\n          type: ADDED_TEAM_MEMBER_FAIL,\r\n        });\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const editTeamMember = (item) => {\r\n  if (item._id === undefined) {\r\n    NotificationManager.error(\"Please Select Item To Edit.\");\r\n  }\r\n  const token = localStorage.getItem(\"token\");\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"x-auth-token\": `${token}`,\r\n    },\r\n  };\r\n  return axios.patch(\r\n    process.env.REACT_APP_BACKEND_URL + `/api/team/${item._id}`,\r\n    item,\r\n    config\r\n  );\r\n};\r\n\r\nexport const deleteTeamMember = (item) => {\r\n  NotificationManager.info(\"Item Deleted Succesfuly\");\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"x-auth-token\": `${token}`,\r\n    },\r\n  };\r\n\r\n  return axios.delete(\r\n    process.env.REACT_APP_BACKEND_URL + `/api/team/${item._id}`,\r\n    config\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}